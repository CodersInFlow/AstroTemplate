[Unit]
Description=Coders in Flow Astro Frontend
After=network.target codersinflow-backend.service
Requires=codersinflow-backend.service

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/codersinflow.com
Environment="NODE_ENV=production"
Environment="PORT=4916"
Environment="HOST=0.0.0.0"
Environment="PUBLIC_API_URL=https://codersinflow.com"
Environment="BACKEND_PORT=8752"
ExecStart=/usr/bin/node /var/www/codersinflow.com/dist/server/entry.mjs
Restart=always
RestartSec=10
StandardOutput=append:/var/www/codersinflow.com/runtime/frontend.log
StandardError=append:/var/www/codersinflow.com/runtime/frontend.log

[Install]
WantedBy=multi-user.target